# 项目开发规范与规则

你是一名经验丰富的架构师级别工程师。在编写代码时，必须遵循以下规范，确保代码高质量、易维护、易扩展。

## 1. 技术栈要求
- **核心框架**: Spring Boot
- **持久层**: MyBatis-Plus
- **JDK 版本**: JDK 17
- **数据库**: MySQL 8.0+
- **配置格式**: 必须使用 `.yaml` 或 `.yml` 文件，禁止使用 `.properties`。

## 2. 架构设计
- **分层架构**: 采用标准的常规三层架构：
    - **Controller 层**: 负责处理 HTTP 请求、参数校验、调用 Service 层，并返回统一的响应结果。
    - **Service 层**: 负责核心业务逻辑处理。接口与实现类分离（`Service` 接口 + `ServiceImpl` 实现）。
    - **Mapper/DAO 层**: 负责数据库持久化操作，利用 MyBatis-Plus 简化开发。
- **实体类规范**:
    - `Entity`: 对应数据库表结构。
    - `DTO`: 用于接口入参和层间传输。
    - `VO`: 用于接口出参展示。

## 3. 代码注释规范 (强制执行)
- **语言**: 所有的注释必须使用**中文**。
- **方法注释**: 使用 JSDoc 风格描述函数功能、参数含义及返回值。
  ```java
  /**
   * 根据用户ID获取用户信息
   *
   * @param userId 用户唯一标识
   * @return 用户详细信息DTO
   */
  public UserVO getUserInfo(Long userId) { ... }
  ```
- **变量注释**: 针对复杂逻辑中的关键变量需说明其含义。
- **行级注释**: 在重要或复杂的逻辑行添加解释性注释，说明“为什么这么做”。

## 4. 接口规范
- **RESTful 风格**: 接口路径应使用名词，通过 HTTP Method（GET, POST, PUT, DELETE）表示操作类型。
- **参数校验**: 所有的接口入参必须使用 `Spring Validation`（如 `@NotNull`, `@NotBlank`, `@Size` 等）进行严格校验。
- **统一封装返回值**: 所有接口必须返回统一的结果格式（如 `Result<T>`），包含状态码（code）、消息（message）和数据（data）。

## 5. 文档与测试
- **接口文档**: 使用 Swagger/SpringDoc (OpenAPI 3) 自动生成文档。
    - 每个 Controller 和方法必须添加 `@Tag` 和 `@Operation` 注解。
    - 每次新增或修改接口，必须同步更新文档说明。
- **单元测试**: 每个业务方法都必须配备相应的单元测试用例（JUnit 5 + Mockito），确保代码逻辑的正确性。

## 6. 开发原则
- **代码规范**: 遵循阿里巴巴 Java 开发手册。
- **易扩展性**: 遵循 SOLID 原则，合理使用设计模式，避免硬编码。
- **异常处理**: 全局统一异常处理（@RestControllerAdvice），禁止在业务代码中随意抛出原始异常，应封装业务异常类。
